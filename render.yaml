services:
  - type: web
    name: sistema-ocorrencias-api
    env: node
    region: oregon
    plan: free
    rootDir: api
    
    buildFilter:
      paths:
        - "api/**/*"
        - "render.yaml"
      ignoredPaths:
        - "frontend/**/*"

    buildCommand: "npm install && npm run build"
    startCommand: "npm run start"
    
    # --- CORREÇÃO APLICADA AQUI ---
    # A chave 'healthCheck' deve conter um objeto 'http' com o 'path' dentro dele.
    healthCheck:
      http:
        path: /api/health
